(function(d){var k,a,f,b=d(window),e={jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert",closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s",hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"},bootstrap:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign",closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play",hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign",closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play",hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"},font_awesome:{container:"alert",notice:"",notice_icon:"fa fa-exclamation-circle",info:"alert-info",info_icon:"fa fa-info",success:"alert-success",success_icon:"fa fa-check",error:"alert-error",error_icon:"fa fa-warning",closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play",hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"}};var j=function(){f=d("body");b=d(window);b.bind("resize",function(){if(a){clearTimeout(a)}a=setTimeout(d.pnotify_position_all,10)})};if(document.body){j()}else{d(j)}d.extend({pnotify_remove_all:function(){var m=b.data("pnotify");if(m&&m.length){d.each(m,function(){if(this.pnotify_remove){this.pnotify_remove()}})}},pnotify_position_all:function(){if(a){clearTimeout(a)}a=null;var m=b.data("pnotify");if(!m||!m.length){return}d.each(m,function(){var n=this.opts.stack;if(!n){return}n.nextpos1=n.firstpos1;n.nextpos2=n.firstpos2;n.addpos2=0;n.animation=true});d.each(m,function(){this.pnotify_position()})},pnotify:function(v){var w;var m;if(typeof v!="object"){m=d.extend({},d.pnotify.defaults);m.text=v}else{m=d.extend({},d.pnotify.defaults,v)}for(var p in m){if(typeof p=="string"&&p.match(/^pnotify_/)){m[p.replace(/^pnotify_/,"")]=m[p]}}if(m.before_init){if(m.before_init(m)===false){return null}}var o;var q=function(B,y){s.css("display","none");var x=document.elementFromPoint(B.clientX,B.clientY);s.css("display","block");var A=d(x);var z=A.css("cursor");s.css("cursor",z!="auto"?z:"default");if(!o||o.get(0)!=x){if(o){g.call(o.get(0),"mouseleave",B.originalEvent);g.call(o.get(0),"mouseout",B.originalEvent)}g.call(x,"mouseenter",B.originalEvent);g.call(x,"mouseover",B.originalEvent)}g.call(x,y,B.originalEvent);o=A};var u=e[m.styling];var s=d("<div />",{"class":"ui-pnotify "+m.addclass,css:{display:"none"},mouseenter:function(x){if(m.nonblock){x.stopPropagation()}if(m.mouse_reset&&w=="out"){s.stop(true);w="in";s.css("height","auto").animate({width:m.width,opacity:m.nonblock?m.nonblock_opacity:m.opacity},"fast")}if(m.nonblock){s.stop().animate({opacity:m.nonblock_opacity},"fast")}if(m.hide&&m.mouse_reset){s.pnotify_cancel_remove()}if(m.sticker&&!m.nonblock){s.sticker.trigger("pnotify_icon").css("visibility","visible")}if(m.closer&&!m.nonblock){s.closer.css("visibility","visible")}},mouseleave:function(x){if(m.nonblock){x.stopPropagation()}o=null;s.css("cursor","auto");if(m.nonblock&&w!="out"){s.stop().animate({opacity:m.opacity},"fast")}if(m.hide&&m.mouse_reset){s.pnotify_queue_remove()}if(m.sticker_hover){s.sticker.css("visibility","hidden")}if(m.closer_hover){s.closer.css("visibility","hidden")}d.pnotify_position_all()},mouseover:function(x){if(m.nonblock){x.stopPropagation()}},mouseout:function(x){if(m.nonblock){x.stopPropagation()}},mousemove:function(x){if(m.nonblock){x.stopPropagation();q(x,"onmousemove")}},mousedown:function(x){if(m.nonblock){x.stopPropagation();x.preventDefault();q(x,"onmousedown")}},mouseup:function(x){if(m.nonblock){x.stopPropagation();x.preventDefault();q(x,"onmouseup")}},click:function(x){if(m.nonblock){x.stopPropagation();q(x,"onclick")}},dblclick:function(x){if(m.nonblock){x.stopPropagation();q(x,"ondblclick")}}});s.opts=m;s.container=d("<div />",{"class":u.container+" ui-pnotify-container "+(m.type=="error"?u.error:(m.type=="info"?u.info:(m.type=="success"?u.success:u.notice)))}).appendTo(s);if(m.cornerclass!=""){s.container.removeClass("ui-corner-all").addClass(m.cornerclass)}if(m.shadow){s.container.addClass("ui-pnotify-shadow")}s.pnotify_version="1.2.2";s.pnotify=function(x){var z=m;if(typeof x=="string"){m.text=x}else{m=d.extend({},m,x)}for(var y in m){if(typeof y=="string"&&y.match(/^pnotify_/)){m[y.replace(/^pnotify_/,"")]=m[y]}}s.opts=m;if(m.cornerclass!=z.cornerclass){s.container.removeClass("ui-corner-all").addClass(m.cornerclass)}if(m.shadow!=z.shadow){if(m.shadow){s.container.addClass("ui-pnotify-shadow")}else{s.container.removeClass("ui-pnotify-shadow")}}if(m.addclass===false){s.removeClass(z.addclass)}else{if(m.addclass!==z.addclass){s.removeClass(z.addclass).addClass(m.addclass)}}if(m.title===false){s.title_container.slideUp("fast")}else{if(m.title!==z.title){if(m.title_escape){s.title_container.text(m.title).slideDown(200)}else{s.title_container.html(m.title).slideDown(200)}}}if(m.text===false){s.text_container.slideUp("fast")}else{if(m.text!==z.text){if(m.text_escape){s.text_container.text(m.text).slideDown(200)}else{s.text_container.html(m.insert_brs?String(m.text).replace(/\n/g,"<br />"):m.text).slideDown(200)}}}s.pnotify_history=m.history;s.pnotify_hide=m.hide;if(m.type!=z.type){s.container.removeClass(u.error+" "+u.notice+" "+u.success+" "+u.info).addClass(m.type=="error"?u.error:(m.type=="info"?u.info:(m.type=="success"?u.success:u.notice)))}if(m.icon!==z.icon||(m.icon===true&&m.type!=z.type)){s.container.find("div.ui-pnotify-icon").remove();if(m.icon!==false){d("<div />",{"class":"ui-pnotify-icon"}).append(d("<span />",{"class":m.icon===true?(m.type=="error"?u.error_icon:(m.type=="info"?u.info_icon:(m.type=="success"?u.success_icon:u.notice_icon))):m.icon})).prependTo(s.container)}}if(m.width!==z.width){s.animate({width:m.width})}if(m.min_height!==z.min_height){s.container.animate({minHeight:m.min_height})}if(m.opacity!==z.opacity){s.fadeTo(m.animate_speed,m.opacity)}if(!m.closer||m.nonblock){s.closer.css("display","none")}else{s.closer.css("display","block")}if(!m.sticker||m.nonblock){s.sticker.css("display","none")}else{s.sticker.css("display","block")}s.sticker.trigger("pnotify_icon");if(m.sticker_hover){s.sticker.css("visibility","hidden")}else{if(!m.nonblock){s.sticker.css("visibility","visible")}}if(m.closer_hover){s.closer.css("visibility","hidden")}else{if(!m.nonblock){s.closer.css("visibility","visible")}}if(!m.hide){s.pnotify_cancel_remove()}else{if(!z.hide){s.pnotify_queue_remove()}}s.pnotify_queue_position();return s};s.pnotify_position=function(C){var A=s.opts.stack;if(!A){return}if(!A.nextpos1){A.nextpos1=A.firstpos1}if(!A.nextpos2){A.nextpos2=A.firstpos2}if(!A.addpos2){A.addpos2=0}var E=s.css("display")=="none";if(!E||C){var D,B;var x={};var z;switch(A.dir1){case"down":z="top";break;case"up":z="bottom";break;case"left":z="right";break;case"right":z="left";break}D=parseInt(s.css(z));if(isNaN(D)){D=0}if(typeof A.firstpos1=="undefined"&&!E){A.firstpos1=D;A.nextpos1=A.firstpos1}var y;switch(A.dir2){case"down":y="top";break;case"up":y="bottom";break;case"left":y="right";break;case"right":y="left";break}B=parseInt(s.css(y));if(isNaN(B)){B=0}if(typeof A.firstpos2=="undefined"&&!E){A.firstpos2=B;A.nextpos2=A.firstpos2}if((A.dir1=="down"&&A.nextpos1+s.height()>b.height())||(A.dir1=="up"&&A.nextpos1+s.height()>b.height())||(A.dir1=="left"&&A.nextpos1+s.width()>b.width())||(A.dir1=="right"&&A.nextpos1+s.width()>b.width())){A.nextpos1=A.firstpos1;A.nextpos2+=A.addpos2+(typeof A.spacing2=="undefined"?25:A.spacing2);A.addpos2=0}if(A.animation&&A.nextpos2<B){switch(A.dir2){case"down":x.top=A.nextpos2+"px";break;case"up":x.bottom=A.nextpos2+"px";break;case"left":x.right=A.nextpos2+"px";break;case"right":x.left=A.nextpos2+"px";break}}else{if(A.nextpos2){s.css(y,A.nextpos2+"px")}}switch(A.dir2){case"down":case"up":if(s.outerHeight(true)>A.addpos2){A.addpos2=s.height()}break;case"left":case"right":if(s.outerWidth(true)>A.addpos2){A.addpos2=s.width()}break}if(A.nextpos1){if(A.animation&&(D>A.nextpos1||x.top||x.bottom||x.right||x.left)){switch(A.dir1){case"down":x.top=A.nextpos1+"px";break;case"up":x.bottom=A.nextpos1+"px";break;case"left":x.right=A.nextpos1+"px";break;case"right":x.left=A.nextpos1+"px";break}}else{s.css(z,A.nextpos1+"px")}}if(x.top||x.bottom||x.right||x.left){s.animate(x,{duration:this.opts.position_animate_speed,queue:false})}switch(A.dir1){case"down":case"up":A.nextpos1+=s.height()+(typeof A.spacing1=="undefined"?25:A.spacing1);break;case"left":case"right":A.nextpos1+=s.width()+(typeof A.spacing1=="undefined"?25:A.spacing1);break}}};s.pnotify_queue_position=function(x){if(a){clearTimeout(a)}if(!x){x=10}a=setTimeout(d.pnotify_position_all,x)};s.pnotify_display=function(){t=b.data("pnotify");if(t&&(t.length>m.maxonscreen)){d.each(t.slice(0,t.length-m.maxonscreen),function(){if(this.pnotify_remove){this.pnotify_remove()}})}if(!s.parent().length){s.appendTo(f)}if(m.before_open){if(m.before_open(s)===false){return}}if(m.stack.push!="top"){s.pnotify_position(true)}if(m.animation=="fade"||m.animation.effect_in=="fade"){s.show().fadeTo(0,0).hide()}else{if(m.opacity!=1){s.show().fadeTo(0,m.opacity).hide()}}s.animate_in(function(){if(m.after_open){m.after_open(s)}s.pnotify_queue_position();if(m.hide){s.pnotify_queue_remove()}})};s.pnotify_remove=function(){if(s.timer){window.clearTimeout(s.timer);s.timer=null}if(m.before_close){if(m.before_close(s)===false){return}}s.animate_out(function(){if(m.after_close){if(m.after_close(s)===false){return}}s.pnotify_queue_position();if(m.remove){s.detach()}})};s.animate_in=function(y){w="in";var x;if(typeof m.animation.effect_in!="undefined"){x=m.animation.effect_in}else{x=m.animation}if(x=="none"){s.show();y()}else{if(x=="show"){s.show(m.animate_speed,y)}else{if(x=="fade"){s.show().fadeTo(m.animate_speed,m.opacity,y)}else{if(x=="slide"){s.slideDown(m.animate_speed,y)}else{if(typeof x=="function"){x("in",y,s)}else{s.show(x,(typeof m.animation.options_in=="object"?m.animation.options_in:{}),m.animate_speed,y)}}}}}};s.animate_out=function(y){w="out";var x;if(typeof m.animation.effect_out!="undefined"){x=m.animation.effect_out}else{x=m.animation}if(x=="none"){s.hide();y()}else{if(x=="show"){s.hide(m.animate_speed,y)}else{if(x=="fade"){s.fadeOut(m.animate_speed,y)}else{if(x=="slide"){s.slideUp(m.animate_speed,y)}else{if(typeof x=="function"){x("out",y,s)}else{s.hide(x,(typeof m.animation.options_out=="object"?m.animation.options_out:{}),m.animate_speed,y)}}}}}};s.pnotify_cancel_remove=function(){if(s.timer){window.clearTimeout(s.timer)}};s.pnotify_queue_remove=function(){s.pnotify_cancel_remove();s.timer=window.setTimeout(function(){s.pnotify_remove()},(isNaN(m.delay)?0:m.delay))};s.closer=d("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",visibility:m.closer_hover?"hidden":"visible"},click:function(){s.pnotify_remove();s.sticker.css("visibility","hidden");s.closer.css("visibility","hidden")}}).append(d("<span />",{"class":u.closer,title:m.labels.close})).appendTo(s.container);if(!m.closer||m.nonblock){s.closer.css("display","none")}s.sticker=d("<div />",{"class":"ui-pnotify-sticker",css:{cursor:"pointer",visibility:m.sticker_hover?"hidden":"visible"},click:function(){m.hide=!m.hide;if(m.hide){s.pnotify_queue_remove()}else{s.pnotify_cancel_remove()}d(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){d(this).children().removeClass(u.pin_up+" "+u.pin_down).addClass(m.hide?u.pin_up:u.pin_down)}).append(d("<span />",{"class":u.pin_up,title:m.labels.stick})).appendTo(s.container);if(!m.sticker||m.nonblock){s.sticker.css("display","none")}if(m.icon!==false){d("<div />",{"class":"ui-pnotify-icon"}).append(d("<span />",{"class":m.icon===true?(m.type=="error"?u.error_icon:(m.type=="info"?u.info_icon:(m.type=="success"?u.success_icon:u.notice_icon))):m.icon})).prependTo(s.container)}s.title_container=d("<h4 />",{"class":"ui-pnotify-title"}).appendTo(s.container);if(m.title===false){s.title_container.hide()}else{if(m.title_escape){s.title_container.text(m.title)}else{s.title_container.html(m.title)}}s.text_container=d("<div />",{"class":"ui-pnotify-text"}).appendTo(s.container);if(m.text===false){s.text_container.hide()}else{if(m.text_escape){s.text_container.text(m.text)}else{s.text_container.html(m.insert_brs?String(m.text).replace(/\n/g,"<br />"):m.text)}}if(typeof m.width=="string"){s.css("width",m.width)}if(typeof m.min_height=="string"){s.container.css("min-height",m.min_height)}s.pnotify_history=m.history;s.pnotify_hide=m.hide;var t=b.data("pnotify");if(t==null||typeof t!="object"){t=[]}if(m.stack.push=="top"){t=d.merge([s],t)}else{t=d.merge(t,[s])}b.data("pnotify",t);if(m.stack.push=="top"){s.pnotify_queue_position(1)}if(m.after_init){m.after_init(s)}if(m.history){var n=b.data("pnotify_history");if(typeof n=="undefined"){n=d("<div />",{"class":"ui-pnotify-history-container "+u.hi_menu,mouseleave:function(){n.animate({top:"-"+k+"px"},{duration:100,queue:false})}}).append(d("<div />",{"class":"ui-pnotify-history-header",text:m.labels.redisplay})).append(d("<button />",{"class":"ui-pnotify-history-all "+u.hi_btn,text:m.labels.all,mouseenter:function(){d(this).addClass(u.hi_btnhov)},mouseleave:function(){d(this).removeClass(u.hi_btnhov)},click:function(){d.each(t,function(){if(this.pnotify_history){if(this.is(":visible")){if(this.pnotify_hide){this.pnotify_queue_remove()}}else{if(this.pnotify_display){this.pnotify_display()}}}});return false}})).append(d("<button />",{"class":"ui-pnotify-history-last "+u.hi_btn,text:m.labels.last,mouseenter:function(){d(this).addClass(u.hi_btnhov)},mouseleave:function(){d(this).removeClass(u.hi_btnhov)},click:function(){var x=-1;var y;do{if(x==-1){y=t.slice(x)}else{y=t.slice(x,x+1)}if(!y[0]){break}x--}while(!y[0].pnotify_history||y[0].is(":visible"));if(!y[0]){return false}if(y[0].pnotify_display){y[0].pnotify_display()}return false}})).appendTo(f);var r=d("<span />",{"class":"ui-pnotify-history-pulldown "+u.hi_hnd,mouseenter:function(){n.animate({top:"0"},{duration:100,queue:false})}}).appendTo(n);k=r.offset().top+2;n.css({top:"-"+k+"px"});b.data("pnotify_history",n)}}m.stack.animation=false;if(m.auto_display){s.pnotify_display()}return s}});var l=/^on/,c=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,i=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,h=/^(scroll|resize|(un)?load|abort|error)$/;var g=function(n,m){var o;n=n.toLowerCase();if(document.createEvent&&this.dispatchEvent){n=n.replace(l,"");if(n.match(c)){d(this).offset();o=document.createEvent("MouseEvents");o.initMouseEvent(n,m.bubbles,m.cancelable,m.view,m.detail,m.screenX,m.screenY,m.clientX,m.clientY,m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,m.button,m.relatedTarget)}else{if(n.match(i)){o=document.createEvent("UIEvents");o.initUIEvent(n,m.bubbles,m.cancelable,m.view,m.detail)}else{if(n.match(h)){o=document.createEvent("HTMLEvents");o.initEvent(n,m.bubbles,m.cancelable)}}}if(!o){return}this.dispatchEvent(o)}else{if(!n.match(l)){n="on"+n}o=document.createEventObject(m);this.fireEvent(n,o)}};d.pnotify.defaults={title:false,title_escape:false,text:false,text_escape:false,styling:"bootstrap",addclass:"",cornerclass:"",nonblock:false,nonblock_opacity:0.2,history:true,maxonscreen:Infinity,auto_display:true,width:"300px",min_height:"16px",type:"notice",icon:true,animation:"fade",animate_speed:"slow",position_animate_speed:500,opacity:1,shadow:true,closer:true,closer_hover:true,sticker:true,sticker_hover:true,hide:true,delay:8000,mouse_reset:true,remove:true,insert_brs:true,stack:{dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25},labels:{redisplay:"Redisplay",all:"All",last:"Last",close:"Close",stick:"Stick"}}})(jQuery);